'From Pharo8.0.0 of 22 January 2020 [Build information: Pharo-8.0.0+build.1124.sha.0932da82f08175e906b0e2a8052120c823374e9f (64 Bit)] on 10 November 2025 at 11:32:18.705883 pm'!Object subclass: #Fecha	instanceVariableNames: 'day month year'	classVariableNames: ''	package: 'Curso-Cronologia'!!Fecha commentStamp: 'LucasIvanBenchatParra 10/27/2025 16:58' prior: 0!"Fecha" es una clase que sirve para definir e interactuar con fechas.======================Representación interna======================Clase compuesta por las siguientes variables de instancia:* day: <Object>* month: <Object>* year: <Object>===========API Pública===========La clase exporta los siguientes métodos para uso público:	-------	getters	-------	* <<day>>: utilizado para acceder al día que compone la fecha.	* <<month>>: utilizado para acceder al mes que compone la fecha.	* <<year>>: utilizado para acceder al año que compone la fecha.	-------	setters	-------	* <<day:>>: utilizado para establecer el día que compone la fecha.	* <<month:>>: utilizado para establecer el mes que compone la fecha.	* <<year:>>: utilizado para establecer el año que compone la fecha.		-------------	Constructores	-------------	* <<dateWithDay:month:year:>>: utilizado para instanciar un objeto de esta clase pasando un día, mes	  y año como parámetros.	* <<fromString:>>: utilizado para instanciar un objeto de esta clase pasando una string que contenga	  una fecha como parámetro.	* <<fromDate:>>: utilizado para instanciar un objeto de esta clase a partir de un objeto de clase	  'Date'.	* <<today>>: utilizado para instanciar un objeto de esta clase con la fecha de hoy, a partir de un	  objeto de clase 'Date'.		-------------------------	Operaciones de conversión	-------------------------	* <<turnFromDate:>>: utilizado para convertir un objeto de clase 'Date' en un objeto de esta clase.	---------------------	Operaciones de acceso	---------------------	* <<daysInMonth:forYear:>>: utilizado para devolver la cantidad de días que tiene un mes dado	  en un año dado.	---------------------	Operaciones de testeo	---------------------	* <<isLeapYear:>>: utilizado para saber si un año es bisiesto o no.	* <<isDateCorrect>>: utilizado para saber si una fecha está definida correctamente o no.	--------------------------	Operaciones de comparación	--------------------------	* "<": utilizado para obtener cual es la menor de dos fechas.	* ">": utilizado para obtener cual es la mayor de dos fechas.	* "=": utilizado para saber si dos fechas son iguales.----------------------------Control de validez en fechas----------------------------Al utilizar los setters para los atributos "day", "month" y "year", se verifica en primera instanciaque los parámetros pasados sean números y estén dentro de un rango aceptable. Además de eso, en elsetter para el atributo "day" se verifica que la fecha en su totalidad sea coherente, lo que implicaque antes de llamar al setter <<day:>> se deben utilizar los demás setters para poder cargar manualmenteuna fecha de manera correcta.Por lo tanto, internamente se cargan los atributos de la siguiente manera a lo largo de la clase:1. Año.2. Mes.3. Día.Esto significa que el uso de los setters ya provee para cualquier método que lo requiera una validaciónimplícita de fechas, no permitiendo cargar fechas incorrectas.!!Fecha methodsFor: 'initialization' stamp: 'LucasIvanBenchatParra 10/24/2025 18:30'!initialize	"Inicialización de los atributos de la clase	con valores por defecto que sean lógicos."	"En este caso, se inicia cada instancia de	la clase con la fecha actual."	| currdate |.	currdate := Date today.		super initialize.	year := currdate year.	month := currdate monthIndex.	day := currdate dayOfMonth.! !!Fecha methodsFor: 'initialization' stamp: 'LucasIvanBenchatParra 10/24/2025 18:30'!turnFromDate: aDate	"Método utilizado para convertir un objeto	de la clase 'Date' en un objeto de esta	clase."	self year: aDate year.	self month: aDate monthIndex.	self day: aDate dayOfMonth.	^self.! !!Fecha methodsFor: 'accessing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:26'!month	"Método para devolver el mes definido	en un objeto de clase 'Fecha'."	^month.! !!Fecha methodsFor: 'accessing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:26'!daysInMonth: aMonth forYear: aYear	"Método utilizado para devolver la cantidad	de días que tiene un mes en un año dado."	| daysInYear daysInLeapYear |.	daysInYear := #(31 28 31 30 31 30 31 31 30 31 30 31).	daysInLeapYear := #(31 29 31 30 31 30 31 31 30 31 30 31).		(self isLeapYear: aYear)		ifTrue: [ ^daysInLeapYear at: aMonth ]		ifFalse: [ ^daysInYear at: aMonth ].! !!Fecha methodsFor: 'accessing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:26'!year	"Método para devolver el año definido	en un objeto de clase 'Fecha'."	^year.! !!Fecha methodsFor: 'accessing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:25'!day	"Método para devolver el día definido	en un objeto de clase 'Fecha'."	^day.! !!Fecha methodsFor: 'printing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:31'!printOn: aStream	"Sobreescritura del método printOn, específica	de esta clase."	"Se lo sobreescribe con la finalidad de mostrar	fechas de manera 'correcta' cuando se inspecciona	un objeto de esta clase."	aStream nextPutAll: self day asString.	aStream nextPut: $/.	aStream nextPutAll: self month asString.	aStream nextPut: $/.	aStream nextPutAll: self year asString.! !!Fecha methodsFor: 'setting' stamp: 'LucasIvanBenchatParra 10/27/2025 16:47'!day: aDay	"Método utilizado para asignar un valor	al atributo 'year' de la clase."		"Control básico de estructura, para	asegurarse de que se introdujo un	número de día válido."	(self isValidNumber: aDay			withLowerLimit: 1			withUpperLimit: 31) ifFalse: [		^self error: 'Por favor, introduzca un número de día válido entre 1 y 31.'.		].	"Control de coherencia en la fecha.	La idea es que este setter sea el último	en ser llamado, luego de los setters de	año y mes, de manera que se pueda	verificar que la fecha final es válida	y coherente."	day := aDay.	(self isDateCorrect)		ifTrue: [			^self		]		ifFalse: [			^self error: 'El formato de la fecha es incorrecto. Revise los datos introducidos.'.		].! !!Fecha methodsFor: 'setting' stamp: 'LucasIvanBenchatParra 10/24/2025 18:46'!year: aYear	"Método utilizado para asignar un valor	al atributo 'year' de la clase."	(self isValidNumber: aYear			withLowerLimit: 1000			withUpperLimit: 9999) ifFalse: [		^self error: 'Por favor, introduzca un número de año válido entre 1000 y 9999.'.		].		year := aYear.! !!Fecha methodsFor: 'setting' stamp: 'LucasIvanBenchatParra 10/24/2025 18:46'!month: aMonth	"Método utilizado para asignar un valor	al atributo 'month' de la clase."	(self isValidNumber: aMonth			withLowerLimit: 1			withUpperLimit: 12) ifFalse: [		^self error: 'Por favor, introduzca un número de mes válido entre 1 y 12.'.		].		month := aMonth.! !!Fecha methodsFor: 'testing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:27'!isDateCorrect	"Método utilizado para controlar que una	fecha haya sido definida correctamente."	"Específicamente, se controla que para un	mes y año indicados la cantidad de días	sea correcta."	| correct_amount |.	correct_amount := self daysInMonth: (self month) forYear: (self year).		(self day > correct_amount) ifTrue: [		^false.	].	^true.! !!Fecha methodsFor: 'testing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:27'!isLeapYear: aYear	"Método utilizado para controlar si un	año es bisiesto o no. Para que lo sea,	deben cumplirse las siguientes tres	condiciones:		1. El año es divisible por 400.	2. El año NO es divisible por 400 pero	   sí es divisible por 100.	3. El año NO es divisible por 100 pero	   sí es divisible por 4."	(aYear \\ 400 = 0) ifTrue: [ ^true ].	(aYear \\ 100 = 0) ifTrue: [ ^false ].	(aYear \\ 4 = 0) ifTrue: [ ^true ].	^false.! !!Fecha methodsFor: 'comparing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:28'!> otraFecha	"Método para comparar dos fechas y saber	si una fecha es mayor que la otra."		"Pequeño control para saber si se está	comparando con un objeto de la misma clase	o con objetos de otras clases."	(otraFecha isNil or: (self class ~= otraFecha class)) ifTrue: [		^false.	].		"La lógica de estas comparaciones es que si	algo no es menor ni mayor, entonces es igual	y se puede continuar con los siguientes controles,	en caso de haber."	(self year > otraFecha year) ifTrue: [ ^true ].	(self year < otraFecha year) ifTrue: [ ^false ].	(self month > otraFecha month) ifTrue: [ ^true ].	(self month < otraFecha month) ifTrue: [ ^false ].	^(self day > otraFecha day).! !!Fecha methodsFor: 'comparing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:28'!= otraFecha	"Método para comparar dos fechas y saber	si una fecha es igual a la otra."		"Pequeño control para saber si se está	comparando con un objeto de la misma clase	o con objetos de otras clases."	(otraFecha isNil or: (self class ~= otraFecha class)) ifTrue: [		^false.	].		"La lógica de estas comparaciones es que si	algo no es distinto, entonces es igual y se	puede continuar con los siguientes controles,	en caso de haber."	(self year ~= otraFecha year) ifTrue: [		^false.	].	(self month ~= otraFecha month) ifTrue: [		^false.	].	^(self day = otraFecha day).! !!Fecha methodsFor: 'comparing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:28'!hash    "Returns a hash value consistent with the receiver's state."    ^ self year hash bitXor: (self month hash bitXor: self day hash)! !!Fecha methodsFor: 'comparing' stamp: 'LucasIvanBenchatParra 10/24/2025 18:28'!< otraFecha	"Método para comparar dos fechas y saber	si una fecha es menor que la otra."		"Pequeño control para saber si se está	comparando con un objeto de la misma clase	o con objetos de otras clases."	(otraFecha isNil or: (self class ~= otraFecha class)) ifTrue: [		^false.	].		"La lógica de estas comparaciones es que si	algo no es menor ni mayor, entonces es igual	y se puede continuar con los siguientes controles,	en caso de haber."	(self year < otraFecha year) ifTrue: [ ^true ].	(self year > otraFecha year) ifTrue: [ ^false ].	(self month < otraFecha month) ifTrue: [ ^true ].	(self month > otraFecha month) ifTrue: [ ^false ].	^(self day < otraFecha day).! !!Fecha methodsFor: 'private' stamp: 'LucasIvanBenchatParra 10/24/2025 18:34'!isValidNumber: num withLowerLimit: lowlim withUpperLimit: upplim	"Método utilizado en los setters para	controlar que el usuario está introduciendo	un número entero válido."	(num isInteger) ifFalse: [		^false.	].	(num < lowlim or: num > upplim) ifTrue: [		^false.	].	^true.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Fecha class	instanceVariableNames: ''!!Fecha class methodsFor: 'instance creation' stamp: 'LucasIvanBenchatParra 10/24/2025 19:12'!dateWithDay: aDay month: aMonth year: aYear	"Método constructor utilizado para instanciar	objetos de esta clase, a partir de un día, mes	y año pasados por parámetro."	"Este método no realiza validación de los	parámetros introducidos porque cada setter	ya valida en un nivel básico que los datos	estén bien, e incluso el setter para el	atributo 'day' se encarga de validar que la	fecha en su totalidad sea coherente."	| date |.	date := self new.	date year: aYear.	date month: aMonth.	date day: aDay.	^date.! !!Fecha class methodsFor: 'instance creation' stamp: 'LucasIvanBenchatParra 10/24/2025 19:17'!fromString: aString	"Método para instanciar objetos de la clase	a partir de una fecha pasada como string, del	estilo 'DD/MM/YYYY'."	| array daystr monthstr yearstr |.		(aString isNil or: aString isString not) ifTrue: [		^self error: 'Por favor, introduzca un string correcto como parámetro.'.	].	array := aString substrings: '/'.	"Control del arreglo obtenido con la fecha introducida."		(array size ~= 3) ifTrue: [		^self error: 'La fecha introducida no tiene el formato correcto (DD/MM/YYYY).'.	].	daystr := array at: 1.	monthstr := array at: 2.	yearstr := array at: 3.	(daystr size ~= 2 or: [monthstr size ~= 2 or: yearstr size ~= 4]) ifTrue: [		^self error: 'El formato esperado es DD/MM/YYYY (ejemplo: 05/01/2025).'.	].	(daystr isAllDigits and: [monthstr isAllDigits and: yearstr isAllDigits]) ifFalse: [		^self error: 'La fecha únicamente debe contener caracteres numéricos.'.	].		"Creación de un objeto de clase 'Fecha'."	^self dateWithDay: daystr asInteger			month: monthstr asInteger			year: yearstr asInteger.! !!Fecha class methodsFor: 'instance creation' stamp: 'LucasIvanBenchatParra 10/24/2025 19:14'!fromDate: aDate	"Método para instanciar un objeto de esta	clase a partir de un objeto de clase	'Date'."	| date |.	date := self new.	date turnFromDate: aDate.	^date.! !!Fecha class methodsFor: 'instance creation' stamp: 'LucasIvanBenchatParra 10/27/2025 16:51'!today	"Método para instanciar un objeto de esta	clase con la fecha de hoy, a partir de un	objeto de clase 'Date'."	| date |.	date := self new.	date turnFromDate: Date today.	^date.! !